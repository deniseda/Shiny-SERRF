x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
per2
boxplot(per, per2)
boxplot(log(per), log(per2))
boxplot(log10(per), log10(per2))
boxplot(per, per2)
median(per)
median(per2)
mean(per2)
mean(per)
length(y)
rep(1,10)
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
length(id)
id[100]
id[101]
id[102]
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
per
median(per)
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
per2
i
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
per2
median(per)
median(per2)
mean(per2)
mean(per1)
mean(per)
mean(per2)
boxplot(per2)
boxplot(per2,per)
boxplot(per,per2)
median(per)
median(per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 1.2)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 1.2)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
per2
median(per)
median(per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
per2
median(per)
median(per2)
boxplot(per, per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
# y[1:10] = rnorm(10, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
mean(per2)
mean(per)
boxplot(log(per), log(per2))
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
# y[1:10] = rnorm(10, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
library(nlme)
per3 = c()
for(i in 1:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
length(per3)
for(i in 1:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
per3 = c()
for(i in 1:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
i
for(i in 54:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
i
for(i in 58:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
i
for(i in 61:100){
id = c(rep(1,200), 2:2000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 1)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per3[i] = x[1]/sum(x)
}
i
# per2
median(per)
median(per2)
median(per3)
boxplot(per, per2, per3)
boxplot(per2, per3)
boxplot(per, per2, per3)
boxplot( per2, per3)
boxplot( log(per2), log(per3))
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per2
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.8)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
# median(per3)
boxplot( log(per), log(per2))
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per2
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
# median(per3)
boxplot( log(per), log(per2))
boxplot( (per), (per2))
boxplot( (per), (per2))
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
# y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per2
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
# y[1:100] = rnorm(100, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
# median(per3)
boxplot( (per), (per2))
boxplot( (per), (per2), ylab = 'ICC', xlab = "sample size")
?boxplot
boxplot( a= (per), b=(per2), ylab = 'ICC', xlab = "sample size")
boxplot( (per), (per2), ylab = 'ICC', xlab = "sample size")
boxplot( (per), (per2), ylab = 'ICC', xlab = "small vs largesample size")
boxplot( (per), (per2), ylab = 'ICC', xlab = "small vs large sample size")
boxplot( (per), (per2), ylab = 'ICC', xlab = "small vs large", sub = "sample size")
boxplot( log(per), log(per2), ylab = 'ICC', xlab = "small vs large", sub = "sample size")
boxplot( log(per), log(per2), ylab = 'log scale ICC', xlab = "small vs large", sub = "sample size")
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
# per2
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:1000)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
# per2
median(per)
median(per2)
# median(per3)
boxplot( (per), (per2), ylab = 'ICC', xlab = "small vs large", sub = "sample size")
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:10)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
median(per)
# per2
per2 = c()
for(i in 1:100){
id = c(rep(1,100), 2:100)
y = rnorm(length(id))
y[1:100] = rnorm(100, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
median(per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)+2
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
boxplot(per, per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
boxplot(per, per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)+20
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
boxplot(per, per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)-20
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
boxplot(per, per2)
library(nlme)
per = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per[i] = x[1]/sum(x)
}
library(nlme)
per2 = c()
for(i in 1:100){
id = c(rep(1,10), 2:100)
y = rnorm(length(id))
y[1:10] = rnorm(10, sd = 0.5)-2
mm = lme(y~1, random = ~1|id)
x = as.numeric(VarCorr(mm)[1:2])
per2[i] = x[1]/sum(x)
}
boxplot(per, per2)
